{"ast":null,"code":"const createSpaces = () => {\n  const spaces = [];\n\n  for (let y = 0; y < 10; y++) {\n    for (let x = 0; x < 10; x++) {\n      spaces.push([x, y]);\n    }\n  }\n\n  return spaces;\n};\n\nconst initialState = {\n  boards: [{\n    id: 0,\n    spaces: createSpaces(),\n    locationsFired: [],\n    damage: []\n  }, {\n    id: 1,\n    spaces: createSpaces(),\n    locationsFired: [],\n    damage: []\n  }]\n};\n\nconst gameReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"INITILIZE\":\n      return initialState;\n\n    case \"DAMAGE\":\n      let j = 0;\n\n      for (let i = 0; i < state.boards[action.payload.id].damage.length; i++) {\n        if (state.boards[action.payload.id].damage[i][0] === action.payload.coordinates[0] && state.boards[action.payload.id].damage[i][1] === action.payload.coordinates[1]) {\n          console.log(\"here\");\n          j++;\n        }\n      }\n\n      console.log(j);\n\n      if (j === 0) {\n        const newboards = [...state.boards];\n        newboards[action.payload.id].damage.push(action.payload.coordinates);\n        return Object.assign({}, state, {\n          newboards\n        });\n      } else {\n        return state;\n      }\n\n    case \"SHOT\":\n      const oopboards = [...state.boards];\n      oopboards[action.payload.id].locationsFired.push(action.payload.coordinates);\n      return Object.assign({}, state, {\n        oopboards\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default gameReducer;","map":{"version":3,"sources":["/Users/tylerbarkey/Documents/GitHub/battleship/src/reducers/gameReducer.js"],"names":["createSpaces","spaces","y","x","push","initialState","boards","id","locationsFired","damage","gameReducer","state","action","type","j","i","payload","length","coordinates","console","log","newboards","Object","assign","oopboards"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAM;AACzB,QAAMC,MAAM,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3BF,MAAAA,MAAM,CAACG,IAAP,CAAY,CAACD,CAAD,EAAID,CAAJ,CAAZ;AACD;AACF;;AACD,SAAOD,MAAP;AACD,CARD;;AAUA,MAAMI,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,EAAE,EAAE,CADN;AAEEN,IAAAA,MAAM,EAAED,YAAY,EAFtB;AAGEQ,IAAAA,cAAc,EAAE,EAHlB;AAIEC,IAAAA,MAAM,EAAE;AAJV,GADM,EAON;AACEF,IAAAA,EAAE,EAAE,CADN;AAEEN,IAAAA,MAAM,EAAED,YAAY,EAFtB;AAGEQ,IAAAA,cAAc,EAAE,EAHlB;AAIEC,IAAAA,MAAM,EAAE;AAJV,GAPM;AADW,CAArB;;AAiBA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,WAAL;AACE,aAAOR,YAAP;;AAEF,SAAK,QAAL;AACE,UAAIS,CAAC,GAAG,CAAR;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACL,MAAN,CAAaM,MAAM,CAACI,OAAP,CAAeT,EAA5B,EAAgCE,MAAhC,CAAuCQ,MAA3D,EAAmEF,CAAC,EAApE,EAAwE;AACtE,YACEJ,KAAK,CAACL,MAAN,CAAaM,MAAM,CAACI,OAAP,CAAeT,EAA5B,EAAgCE,MAAhC,CAAuCM,CAAvC,EAA0C,CAA1C,MACEH,MAAM,CAACI,OAAP,CAAeE,WAAf,CAA2B,CAA3B,CADF,IAEAP,KAAK,CAACL,MAAN,CAAaM,MAAM,CAACI,OAAP,CAAeT,EAA5B,EAAgCE,MAAhC,CAAuCM,CAAvC,EAA0C,CAA1C,MACEH,MAAM,CAACI,OAAP,CAAeE,WAAf,CAA2B,CAA3B,CAJJ,EAKE;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAN,UAAAA,CAAC;AACF;AACF;;AACDK,MAAAA,OAAO,CAACC,GAAR,CAAYN,CAAZ;;AACA,UAAIA,CAAC,KAAK,CAAV,EAAa;AACX,cAAMO,SAAS,GAAG,CAAC,GAAGV,KAAK,CAACL,MAAV,CAAlB;AACAe,QAAAA,SAAS,CAACT,MAAM,CAACI,OAAP,CAAeT,EAAhB,CAAT,CAA6BE,MAA7B,CAAoCL,IAApC,CAAyCQ,MAAM,CAACI,OAAP,CAAeE,WAAxD;AACA,eAAOI,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,KAAlB,EAAyB;AAC9BU,UAAAA;AAD8B,SAAzB,CAAP;AAGD,OAND,MAMO;AACL,eAAOV,KAAP;AACD;;AAEH,SAAK,MAAL;AACE,YAAMa,SAAS,GAAG,CAAC,GAAGb,KAAK,CAACL,MAAV,CAAlB;AACAkB,MAAAA,SAAS,CAACZ,MAAM,CAACI,OAAP,CAAeT,EAAhB,CAAT,CAA6BC,cAA7B,CAA4CJ,IAA5C,CACEQ,MAAM,CAACI,OAAP,CAAeE,WADjB;AAIA,aAAOI,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBZ,KAAlB,EAAyB;AAC9Ba,QAAAA;AAD8B,OAAzB,CAAP;;AAIF;AACE,aAAOb,KAAP;AAvCJ;AAyCD,CA1CD;;AA4CA,eAAeD,WAAf","sourcesContent":["const createSpaces = () => {\n  const spaces = [];\n  for (let y = 0; y < 10; y++) {\n    for (let x = 0; x < 10; x++) {\n      spaces.push([x, y]);\n    }\n  }\n  return spaces;\n};\n\nconst initialState = {\n  boards: [\n    {\n      id: 0,\n      spaces: createSpaces(),\n      locationsFired: [],\n      damage: []\n    },\n    {\n      id: 1,\n      spaces: createSpaces(),\n      locationsFired: [],\n      damage: []\n    }\n  ]\n};\n\nconst gameReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"INITILIZE\":\n      return initialState;\n\n    case \"DAMAGE\":\n      let j = 0;\n      for (let i = 0; i < state.boards[action.payload.id].damage.length; i++) {\n        if (\n          state.boards[action.payload.id].damage[i][0] ===\n            action.payload.coordinates[0] &&\n          state.boards[action.payload.id].damage[i][1] ===\n            action.payload.coordinates[1]\n        ) {\n          console.log(\"here\");\n          j++;\n        }\n      }\n      console.log(j);\n      if (j === 0) {\n        const newboards = [...state.boards];\n        newboards[action.payload.id].damage.push(action.payload.coordinates);\n        return Object.assign({}, state, {\n          newboards\n        });\n      } else {\n        return state;\n      }\n\n    case \"SHOT\":\n      const oopboards = [...state.boards];\n      oopboards[action.payload.id].locationsFired.push(\n        action.payload.coordinates\n      );\n\n      return Object.assign({}, state, {\n        oopboards\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default gameReducer;\n"]},"metadata":{},"sourceType":"module"}